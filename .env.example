# =============================================================================
# CRM-AI Pro Environment Configuration Template
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# DO NOT commit .env.local to version control
# Last Updated: 2025-11-25
# =============================================================================

# -----------------------------------------------------------------------------
# Supabase Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Get these from: https://supabase.com/dashboard/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# -----------------------------------------------------------------------------
# LLM Router - OpenAI (REQUIRED for LLM Router)
# -----------------------------------------------------------------------------
# Get from: https://platform.openai.com/api-keys
# Format: sk-proj-... or sk-...
# Used for: GPT-4o, GPT-4o-mini (default provider)
OPENAI_API_KEY=sk-proj-your-openai-key-here

# -----------------------------------------------------------------------------
# LLM Router - Anthropic (REQUIRED for LLM Router)
# -----------------------------------------------------------------------------
# Get from: https://console.anthropic.com/settings/keys
# Format: sk-ant-api03-...
# Used for: Claude Sonnet 3.5 (complex tasks), Claude Haiku 4.5 (fast drafts)
ANTHROPIC_API_KEY=sk-ant-api03-your-anthropic-key-here

# -----------------------------------------------------------------------------
# LLM Router - Security & Encryption (REQUIRED for Database Key Encryption)
# -----------------------------------------------------------------------------
# Encryption password for securing API keys stored in the database
# IMPORTANT: Generate a strong random password (32+ characters)
# This is used by lib/llm/security/key-manager.ts for pgcrypto encryption
# Keep this secret and back it up securely!
#
# Generate a secure key with: openssl rand -base64 32
# Or use a password manager to generate a 32+ character password
#
# WARNING: If you lose this key, you will NOT be able to decrypt existing
# API keys stored in the database. Back it up in a secure location!
POSTGRES_ENCRYPTION_KEY=your-secure-encryption-password-here

# -----------------------------------------------------------------------------
# Server Configuration (REQUIRED)
# -----------------------------------------------------------------------------
# Base URL for API calls and redirects
# Development: http://localhost:3002
# Production: https://your-domain.com
NEXT_PUBLIC_BASE_URL=http://localhost:3002

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
# Enable LLM Router (set to 'false' to disable intelligent routing)
USE_LLM_ROUTER=true

# Enable individual LLM providers
LLM_ENABLED=true
LLM_OPENAI_ENABLED=true
LLM_ANTHROPIC_ENABLED=true

# -----------------------------------------------------------------------------
# Email Integration (OPTIONAL - for sending emails)
# -----------------------------------------------------------------------------
# Get from: https://resend.com/api-keys
# Used for: Transactional emails, notifications
RESEND_API_KEY=re_your-resend-key-here

# -----------------------------------------------------------------------------
# Payment Processing (OPTIONAL - for invoicing)
# -----------------------------------------------------------------------------
# Get from: https://dashboard.stripe.com/apikeys
# Used for: Payment processing, invoice payments
STRIPE_SECRET_KEY=sk_test_your-stripe-key-here

# -----------------------------------------------------------------------------
# Additional LLM Providers (OPTIONAL - Future Support)
# -----------------------------------------------------------------------------
# These are not yet fully integrated but can be configured

# Google Gemini (Future)
# Get from: https://makersuite.google.com/app/apikey
GOOGLE_GEMINI_API_KEY=your-gemini-key-here

# Zai GLM (Future)
ZAI_GLM_API_KEY=your-glm-key-here

# -----------------------------------------------------------------------------
# Voice Integration (OPTIONAL - Phase 3)
# -----------------------------------------------------------------------------
# Get from: https://elevenlabs.io/api
# Used for: Voice agents, text-to-speech
ELEVENLABS_API_KEY=sk_your-elevenlabs-key-here

# -----------------------------------------------------------------------------
# Development Settings
# -----------------------------------------------------------------------------
# Uncomment these for development purposes

# Disable SSL verification for local development (not recommended for production)
# NODE_TLS_REJECT_UNAUTHORIZED=0

# Enable debug logging
# DEBUG=true

# Next.js telemetry (set to 0 to disable)
# NEXT_TELEMETRY_DISABLED=1

# -----------------------------------------------------------------------------
# Production Settings (Vercel/Deployment)
# -----------------------------------------------------------------------------
# These are typically set in your deployment platform (e.g., Vercel Dashboard)
# DO NOT set these in .env.local for development

# NODE_ENV=production
# VERCEL_URL=your-app.vercel.app

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
# 1. This file is a template. Copy it to .env.local and add your real values.
# 2. Never commit .env.local to git (it's in .gitignore)
# 3. For Supabase Edge Functions, use: ./scripts/setup-supabase-secrets.sh
# 4. Validate your setup with: npm run validate-env
# 5. See docs/ENVIRONMENT_SETUP.md for detailed setup instructions
#
# Security Best Practices:
# - Rotate API keys every 90 days
# - Use separate keys for development and production
# - Store production keys in a secrets manager (AWS Secrets Manager, Vercel)
# - Back up POSTGRES_ENCRYPTION_KEY securely (you need it to decrypt DB keys)
# - Monitor API key usage for anomalies
#
# LLM Router Startup Validation:
# - The app will validate all required vars on startup (lib/llm/startup/validator.ts)
# - Missing or invalid keys will prevent the app from starting
# - At least ONE of OPENAI_API_KEY or ANTHROPIC_API_KEY is required
# - Check console output for detailed validation errors
# =============================================================================
